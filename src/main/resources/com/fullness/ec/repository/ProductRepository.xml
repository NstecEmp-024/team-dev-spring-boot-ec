<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fullness.ec.repository.ProductRepository">

    <insert id="insert" parameterType="com.fullness.ec.entity.Product">
      <selectKey keyProperty="id" resultType="Integer" order="BEFORE">
        select nextval('product_id_seq')
      </selectKey>
      insert into product values(#{id}, #{categoryId}, #{name}, #{price}, #{image})
    </insert>

</mapper>